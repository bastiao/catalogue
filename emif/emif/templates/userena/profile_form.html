{% extends 'base.html' %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load url from future %}

{% block title %}{% trans "Edit Profile " %}{% endblock %}

{% block content %}
  <div class="col-md-5 center">

<form action="" id="edit_profile_form" enctype="multipart/form-data" method="post">
  {% csrf_token %}
  <fieldset>
    <legend>{% trans "Edit Profile " %}</legend>
    {{ form|crispy }}
  </fieldset>
        <br />
        <center>
            <button class="btn btn-primary" type="submit">{% trans "Save changes"%}</button>
        </center>  
</form>
</div>
{% endblock %}
{% block scriptextra %}
  var focusFirstField = function () {
      $('#edit_profile_form input:nth(1)').focus();
  };
  $('#div_id_profiles').attr('style','margin-left: 100px;');
  $('#div_id_interests').attr('style','margin-left: 100px;');
  $('#edit_profile_form button[type="reset"]').on('click', focusFirstField);
  focusFirstField();
  /* I swear, i can't seem to be able to edit the damn forms from django_userena other way 
   * It's like they think people don't want to change the layout easily...
   */
  $('#edit_profile_form .control-label').each(function(e){
    var fore = '#'+$(this).attr('for');
    var destiny = $(fore);

    if(destiny.get(0)){

        var content = $(this).text().trim();
                
        $(destiny).prop('placeholder', content);

        $(this).hide();
    }
  });  
  $('label[for="id_paginator"]').show();
  {% endblock %}