{% extends 'base.html' %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load url from future %}

{% block title %}{% trans "Edit Profile " %}{% endblock %}

{% block content %}
<div class="row">
  <div style="position: relative;" class="span6 center">

<form action="" id="edit_profile_form" enctype="multipart/form-data" method="post">
  {% csrf_token %}
  <fieldset>
    <legend>{% trans "Edit Profile " %}</legend>
    {{ form|crispy }}
  </fieldset>
        <br />
        <center>
            <button class="btn btn-primary" type="submit">{% trans "Save changes"%}</button>
        </center>  
</form>
</div>
</div>
{% endblock %}
{% block scriptextra %}
  var focusFirstField = function () {
      $('#edit_profile_form input:nth(1)').focus();
  };


  $('#edit_profile_form input[type="text"], #edit_profile_form input[type="password"], #edit_profile_form select').addClass('span6');
  $('#edit_profile_form button[type="reset"]').on('click', focusFirstField);
  focusFirstField();
  /* I swear, i can't seem to be able to edit the damn forms from django_userena other way 
   * It's like they think people don't want to change the layout easily...
   */
  $('#edit_profile_form .control-label').each(function(e){
    var fore = '#'+$(this).attr('for');
    var destiny = $(fore);

    console.log(destiny);
    if(destiny.get(0)){

        var content = $(this).text().trim();
        
        console.log(content);
        
        $(destiny).prop('placeholder', content);

        $(this).hide();
    }
  });  
  {% endblock %}