{"name":"Catalogue - Fingerprint Browser","tagline":"Catalogue (Fingerprint Browser) ","body":"Catalogue - Fingerprint Browser \r\n=======\r\n\r\n[![Join the chat at https://gitter.im/bioinformatics-ua/emif-fb](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/bioinformatics-ua/emif-fb?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\r\n\r\nThis project is being used in the EMIF Platform and it is also know as Fingerprint Browser in the EMIF community.\r\n\r\nSome of the Available features:\r\n\r\nFor Regular user:\r\n\r\n\r\n* Accounting management (users, databases, workspaces)\r\n* Database management\r\n* Submission and edition (with the former questionary)\r\n* Simple search\r\n* Advanced search\r\n* Results comparison\r\n* Dashboard \r\n* Population Characteristics\r\n* RESTful API\r\n\r\n\r\nFor admin:\r\n\r\n* Questions/fingerprints\r\n* Templates\r\n* Templates definition by XLSX\r\n\r\nFor developers:\r\n\r\n* RESTful API\r\n* Plugin based architecture: new modules are possible to include \r\n\r\n\r\n\r\n----------\r\n##For Development\r\n\r\n#### Note\r\nThis guide is provided for Ubuntu 14.04, for other systems or releases instructions may be subject to changes.\r\n\r\nAll terminal commands can be executed, but whenever we use something between '<', '>' it means that it must be changed for the user. Eg. `<your_path>` --> `/opt/` \r\n\r\n#### Install Dependecies in Ubuntu\r\n\r\n\r\n1.  Install packages\r\n\r\n        $ \tsudo apt-get install git python-pip curl mongodb postgresql rabbitmq-server libxml2-dev libxslt1-dev python-dev libpython-dev build-essential libyaml-dev postgres-server-dev-9.4\r\n\r\n2. Checkout of the source code\r\n\r\n\t\t$ \tmkdir <your_path>/EMIF-ROOT\r\n\t\t$ \tcd <your_path>/EMIF-ROOT\r\n        $ \tgit clone -b master https://github.com/bioinformatics-ua/emif-fb.git\r\n\r\n\tIf you're a developer, you can change branch to dev ( see  [DevelopmentCycle](https://github.com/bioinformatics-ua/emif-fb/wiki/DevelopmentCycle \"DevelopmentCycle\") )\r\n\r\n3.  Install virtualenv\r\n\r\n        $ \tsudo pip install virtualenv\r\n\r\n4. Activate Virtual Environment\r\n\r\n\t\t$\tvirtualenv <your_path>/EMIF-ROOT/emif\r\n\t\t$ \tsource <your_path>/EMIF-ROOT/emif/bin/activate\r\n\r\n5.  Install pil\r\n\r\n        $\tpip install -r requirements.txt --allow-all-external --allow-unverified pil\r\n\t\t\r\n6.  Install and Start MongoDB\r\n\r\n        $ sudo mkdir <your_mongodb_path>\r\n        $ sudo mkdir <your_mongodb_path>/db\r\n\r\n\tNow you have 2 hypotheses:\r\n\r\n\t1.   change the permissions of data and db folders and run \"mongod\":\r\n\r\n\t\t\t$ \tsudo chmod a+x <your_mongodb_path>\r\n\t\t\t$ \tsudo chmod a+x <your_mongodb_path>/db\r\n\t\t\t$\tmongod --dbpath <your_mongodb_path>\r\n\r\n\t2. Run mongod as root:\r\n\t\t\r\n\t\t\t$\tsudo /mongod --dbpath <your_mongodb_path>\r\n\r\n7. Create '~/.pgpass' file and insert:\r\n\r\n        localhost:5432:*:<your_postgres_user>:<your_postgres_pass>\r\n\r\n8. Change permission mode of pgpass file\r\n    \r\n        chmod 600 ~/.pgpass   \r\n\r\n9.  Install and Configure Apache-solr\r\n        \r\n\t1. Install JDK and JRE:\r\n\t\t\r\n\t\t\t$ \tsudo apt-get update\r\n\t\t\t$\tsudo apt-get install default-jre default-jdk\r\n\t\r\n\t2. Download and install SOLR\r\n\t\t\t\r\n\t\t\t$ \tcd /opt\r\n\t\t\t$\twget http://archive.apache.org/dist/lucene/solr/4.7.2/solr-4.7.2.tgz\r\n\t\t\t$\ttar -xvf solr-4.7.2.tgz\r\n\t\t\t$\tcp -R solr-4.7.2/example /opt/solr\r\n\t\t\t$\tcd /opt/solr\r\n\t\t\r\n\t3. Go to folder emif-fb-root/conf/solr/ and copy all the files to the solr default core configuration \r\n\r\n\t\t\t$\tcp -r <your_path>/EMIF-ROOT/emif-fb/confs/solr/suggestions /opt/solr/confs/\r\n\t\t\t$\tcp -r <your_path>/EMIF-ROOT/emif-fb/confs/solr/collections/* /opt/solr/example/confs/\r\n\r\n10. Create a script file:\r\n\r\n\t1. copy code from: \r\n\t\t\r\n\t\t\thttps://gist.github.com/bastiao/c8d3be799dc7c257f01a\r\n\r\n\t2. Paste in a new file in confs/ folder. Eg: \r\n\t\r\n\t\t\t<your_path>/EMIF-ROOT/emif-fb/confs/script.sh\r\n\r\n\t3. Open file and change (to the same of the *~/.pgpass* file)\r\n\r\n\t\t\tAPP_DB_USER=<your_postgres_user>\r\n\t\t\tAPP_DB_PASS=<your_postgres_pass>\r\n\t\r\n\t4. Run the script\r\n\t\r\n\t\t\t$\tsh <your_path>/EMIF-ROOT/emif-fb/confs/<script_name>.sh\r\n\r\n \r\n11. Run Apache-solr as service\r\n\r\n\tGo to solr folder and Run:\r\n\r\n\t\t$\tjava -jar /opt/solr/example/start.jar\r\n\r\n12. Open a new terminal window/tab and run celery\r\n\r\n\t\t$\tcelery --app=emif.tasks worker -l debug -B\r\n\r\n13. Run\r\n\r\n        $\tpython manage.py syncdb\r\n\t\t$\tpython manage.py import-questionnaire <path_to_fingerprint_schema>\r\n        $\tpython manage.py migrate\r\n\t\t$\tcat <your_path>/EMIF-ROOT/emif-fb/confs/newsletter/newsletter_templates.sql | python manage.py dbshell\r\n        $\tpython manage.py runserver 0.0.0.0:8000\r\n      \r\n\r\n14. Create a folder to documents population characteristic\r\n\r\n        mkdir -p <your_path>/EMIF-ROOT/emif/static/files/\r\n\r\n17. Open browser and write\r\n\r\n        localhost:8000\r\n\r\n### Optional Steps:\r\n1. Create Local Settings File: \r\n\t\r\n\t\t<your_path>/EMIF-ROOT/emif/emif/local_settings.py\r\n\r\n2. Add lines for email integration - **Fill accordingly** (optional):\r\n\r\n\t\tEMAIL_HOST = 'address.mail.com'\r\n    \tEMAIL_HOST_PASSWORD = 'passwd'\r\n    \tEMAIL_HOST_USER = 'login'\r\n    \tEMAIL_PORT = 25\r\n    \tEMAIL_USE_TLS = True\r\n\r\n\r\n3. Add lines for integration with github issues and releases **Fill accordingly** (optional)\r\n\r\n\t    GITHUB_USERNAME='githubusername'\r\n    \tGITHUB_PASSWD='pass'\r\n    \tGITHUB_ACCOUNT='bioinformatics-ua'\r\n    \tGITHUB_REPO='emif-fb'\r\n\r\n\r\n### Start the virtual environment and development (always)\r\n1. Go to solr folder and Run:\r\n\r\n\t\t$\tjava -jar /opt/solr/example/start.jar\r\n\r\n2. Start MongoDB\r\n\r\n\tIf you change the permissions of the /data and /data/db folders\r\n\r\n\t\t$\t mongod --dbpath <your_mongodb_path>\r\n\r\n\telse\r\n\r\n   \t\t$\tsudo /mongod --dbpath <your_mongodb_path>\r\n\r\n3. Activate the virtual environments\r\n\r\n   \t\t$\tsource <your_path>/EMIF-ROOT/emif/bin/activate\r\n\r\n4.\tStart Django\r\n\r\n        $\tpython manage.py runserver 0.0.0.0:8000\r\n\r\n5. Open browser at:\r\n\r\n\t\tlocalhost:8000\r\n\r\n\r\n----------\r\n##For Production\r\n#### Integrate Sentry\r\n\r\nPut in settings.py:\r\n\r\n* Sentry url must be specified in settings.py globals, on parameter \"SENTRY_URL\"\r\n\r\n* Also:\r\n\r\n```\r\nRAVEN_CONFIG = {\r\n    'dsn': 'http://hash@host:port/id',\r\n}\r\n```\r\n\r\n#### Integrate Sentry\r\n\r\nPut in settings.py:\r\n\r\n* Sentry url must be specified in settings.py globals, on parameter \"SENTRY_URL\"\r\n\r\n* Also:\r\n\r\n```\r\nRAVEN_CONFIG = {\r\n    'dsn': 'http://hash@host:port/id',\r\n}\r\n```\r\n\r\n\r\n#### Update version\r\n\r\n```\r\npython manage.py update_version 0.7\r\n```\r\n\r\n\r\n#### Developers\r\n\r\n * Luís A. Bastião Silva <bastiao@ua.pt>\r\n * Ricardo Ribeiro <ribeiro.r@ua.pt> \r\n\r\n\r\n#### Lead developer\r\n\r\n* Luís A. Bastião Silva <bastiao@ua.pt> (since 2013 until now)\r\n\r\n#### Project Leader\r\n\r\n * José Luis Oliveira <jlo@ua.pt>\r\n\r\n\r\n#### Past Developers\r\n\r\n * Rui Mendes <ruidamendes@ua.pt>\r\n * José Melo <melojms@gmail.com>\r\n * Tiago Godinho <tmgodinho@ua.pt>\r\n\r\n\r\n Enjoy!\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}